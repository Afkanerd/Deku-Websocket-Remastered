<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: sms.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: sms.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const {
    Sequelize,
    DataTypes
} = require("sequelize");
const cred = require("../credentials.json")

// create connection : new Sequelize(database, username, password, {host, dialect})
const sequelize = new Sequelize(cred.DATABASE, cred.USERNAME, cred.PASSWORD, {
    host: cred.HOST,
    dialect: "mysql"
});

const sms = sequelize.define("SMS", {
    sender: DataTypes.STRING,
    reciever: DataTypes.STRING,
    number: DataTypes.INTEGER,
    body: DataTypes.STRING,
    status: {
        type: DataTypes.STRING,
        defaultValue: "PENDING"
    }
})

/**
 * Class representing an sms
 */
class SMS {
    /**
     * create a new user
     * @param {STRING} sender senders name
     * @param {STRING} reciever recievers name
     * @param {NUMBER} number recievers number
     * @param {STRING} body message to send
     * @returns {Promise} Object {sender: STRING, reciever: STRING, number: NUMBER, body: STRING, status: STRING}
     */
    create(sender, reciever, number, body) {
        return new Promise(async (resolve, reject) => {
            try {
                await sms.sync();
                var newSms = await sms.create({
                    sender: sender,
                    reciever: reciever,
                    number: number,
                    body: body
                })
                resolve({
                    sender: newSms.sender,
                    reciever: newSms.reciever,
                    number: newSms.number,
                    body: newSms.body,
                    status: newSms.status
                })
            } catch (e) {
                reject(e)
            }
        })
    }

}

// (async () => {
//     var test = {
//         sender: "John Doe",
//         reciever: "Peter Head",
//         number: 670918263,
//         body: "hello world test sms"
//     }

//     var inSms = new SMS()
//     var result = await inSms.create(test.sender, test.reciever, test.number, test.body);
//     console.log(result)
// })();

module.exports = SMS</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="SMS.html">SMS</a></li><li><a href="Users.html">Users</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Mon Jan 04 2021 17:57:41 GMT+0100 (West Africa Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
